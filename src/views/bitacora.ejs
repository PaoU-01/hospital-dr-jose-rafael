<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Generar Bitácora</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="/stylesheets/all.min.css">
    <link rel="stylesheet" href="/stylesheets/bienes.css">
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="flex">
        <aside class="w-64 bg-gray-900 min-h-screen p-4 fixed">
            <div class="mb-6">
                <img src="/images/logo-removebg-preview.png" alt="" class="w-32 h-32 mx-auto mb-4 yo">
            </div>

            <nav>
                <ul class="space-y-2">
                    <li>
                        <a href="/panel"
                            class="flex items-center hover:text-white p-3 text-gray-300 hover:bg-blue-800 rounded-lg group active-menu">
                            <i class="fas fa-box text-gray-400 group-hover:text-white mr-3"></i>
                            Bienes
                        </a>
                    </li>
                    <li>
                        <a href="/departamentos"
                            class="flex items-center p-3 text-gray-300  hover:text-white hover:bg-blue-800 rounded-lg group">
                            <i class="fas fa-building text-gray-400 group-hover:text-white mr-3"></i>
                            Departamentos
                        </a>
                    </li>
                    <% if (rol==='1' ) { %>
                        <li>

                            <a href="/usuarios"
                                class="flex items-center p-3 text-gray-300  hover:text-white hover:bg-blue-800 rounded-lg group">
                                <i class="fas fa-users text-gray-400 group-hover:text-white mr-3"></i>
                                Usuarios
                            </a>

                        </li>
                        <% } %>
                            <li>
                                <a href="/estadisticas"
                                    class="flex items-center p-3 text-gray-300 hover:text-white hover:bg-blue-800 rounded-lg group">
                                    <i class="fas fa-chart-bar text-gray-400 group-hover:text-white mr-3"></i>
                                    Estadísticas
                                </a>
                            </li>
                            <li>
                                <a href="/bitacora"
                                    class="flex items-center bg-blue-800 p-3 text-gray-300 hover:text-white hover:bg-blue-800 rounded-lg group">
                                    <i class="fas fa-clipboard-list text-gray-400 group-hover:text-white mr-3"></i>
                                    Bitácora
                                </a>
                            </li>
                            <% if (rol==='1' ) { %>
                                <li>
                                    <a href="/auditoria"
                                        class="flex items-center p-3 text-gray-300 hover:text-white hover:bg-blue-800 rounded-lg group">
                                        <i class="fas fa-clipboard-list text-gray-400 group-hover:text-white mr-3"></i>
                                        Auditoria
                                    </a>
                                </li>
                                <% } %>

                                    <li>
                                        <a href="/cerrar-sesion"
                                            class="flex items-center p-3 text-gray-300 hover:text-white hover:bg-blue-800 rounded-lg group">
                                            <i class="fas fa-sign-out text-gray-400 group-hover:text-white mr-2"></i>
                                            Cerrar sesión
                                        </a>
                                    </li>
                </ul>
            </nav>
        </aside>

        <main class="ml-64 p-8 w-full">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800">
                    <i class="fas fa-file-excel mr-2 text-green-600"></i>
                    Generar Reporte BM-1
                </h1>

                <!-- Botón de Ayuda -->
                <button onclick="showReportHelp()"
                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center"
                    title="Ver información del reporte">
                    <i class="fas fa-question-circle mr-2"></i>
                    Ayuda
                </button>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                <form action="/bitacora/generar-excel" method="POST">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Seleccionar Departamento:</label>
                        <select name="departamento_id" class="w-full p-2 border rounded" required>
                            <% departamentos.forEach(dpto=> { %>
                                <option value="<%= dpto.id %>">
                                    <%= dpto.nombre %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                        <i class="fas fa-file-excel mr-2"></i>
                        Generar Reporte Excel
                    </button>
                </form>
                <form action="/bitacora/generar-pdf" method="POST">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Seleccionar Departamento:</label>
                        <select name="departamento_id" class="w-full p-2 border rounded" required>
                            <% departamentos.forEach(dpto=> { %>
                                <option value="<%= dpto.id %>">
                                    <%= dpto.nombre %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                        <i class="fas fa-file-pdf mr-2"></i>
                        Generar Reporte PDF
                    </button>
                </form>
            </div>
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800">
                    <i class="fas fa-file-excel mr-2 text-green-600"></i>
                    Generar Reporte BM-2
                </h1>

                <!-- Botón de Ayuda -->
                <button onclick="showReportHelp()"
                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center" 
                    title="Ver información del reporte">
                    <i class="fas fa-question-circle mr-2"></i>
                    Ayuda
                </button>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <form action="/bitacora/generar-excel-2021" method="POST">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Seleccionar Departamento:</label>
                        <select name="departamento_id" class="w-full p-2 border rounded" required>
                            <% departamentos.forEach(dpto=> { %>
                                <option value="<%= dpto.id %>">
                                    <%= dpto.nombre %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                        <i class="fas fa-file-excel mr-2"></i>
                        Generar Reporte Excel
                    </button>
                </form>
                <form action="/bitacora/generar-pdf-2021" method="POST">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Seleccionar Departamento:</label>
                        <select name="departamento_id" class="w-full p-2 border rounded" required>
                            <% departamentos.forEach(dpto=> { %>
                                <option value="<%= dpto.id %>">
                                    <%= dpto.nombre %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                        <i class="fas fa-file-pdf mr-2"></i>
                        Generar Reporte PDF
                    </button>
                </form>
            </div>
            <div class="flex justify-between items-center mb-6 mt-6">
                <h1 class="text-2xl font-bold text-gray-800">
                    <i class="fas fa-file-excel mr-2 text-green-600"></i>
                    Generar Reporte BM-3
                </h1>

                <button onclick="showReportHelp()"
                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center"
                    title="Ver información del reporte">
                    <i class="fas fa-question-circle mr-2"></i>
                    Ayuda
                </button>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <form action="/bitacora/generar-excel-2017" method="POST">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Seleccionar Departamento:</label>
                        <select name="departamento_id" class="w-full p-2 border rounded" required>
                            <% departamentos.forEach(dpto=> { %>
                                <option value="<%= dpto.id %>">
                                    <%= dpto.nombre %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                        <i class="fas fa-file-excel mr-2"></i>
                        Generar Reporte Excel
                    </button>
                </form>
                <form action="/bitacora/generar-pdf-2017" method="POST">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Seleccionar Departamento:</label>
                        <select name="departamento_id" class="w-full p-2 border rounded" required>
                            <% departamentos.forEach(dpto=> { %>
                                <option value="<%= dpto.id %>">
                                    <%= dpto.nombre %>
                                </option>
                                <% }) %>
                        </select>
                    </div>

                    <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                        <i class="fas fa-file-pdf mr-2"></i>
                        Generar Reporte PDF
                    </button>
                </form>
            </div>
        </main>

        <!-- Modal de Ayuda para Reporte BM-1 -->
        <div id="reportHelpModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg max-w-lg w-full p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-info-circle mr-2 text-blue-500"></i>
                            Información del Reporte
                        </h3>
                        <button onclick="closeReportHelp()" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>

                    <div class="space-y-3">
                        <h4 class="font-medium text-gray-700">Reporte BM-1 (Bitácora de Materiales)</h4>
                        <p class="text-sm text-gray-600">
                            Este reporte genera un archivo Excel con el inventario completo de bienes de un departamento
                            específico.
                        </p>

                        <div class="bg-green-50 p-3 rounded-lg">
                            <h5 class="font-medium text-green-800 mb-2">Contenido del reporte:</h5>
                            <ul class="text-sm text-green-700 space-y-1">
                                <li><i class="fas fa-check mr-2"></i>Código de inventario de cada bien</li>
                                <li><i class="fas fa-check mr-2"></i>Descripción detallada del bien</li>
                                <li><i class="fas fa-check mr-2"></i>Estado actual del bien</li>
                                <li><i class="fas fa-check mr-2"></i>Fecha de registro</li>
                                <li><i class="fas fa-check mr-2"></i>Departamento asignado</li>
                                <li><i class="fas fa-check mr-2"></i>Información adicional relevante</li>
                            </ul>
                        </div>

                        <div class="bg-blue-50 p-3 rounded-lg">
                            <h5 class="font-medium text-blue-800 mb-2">Características del archivo:</h5>
                            <ul class="text-sm text-blue-700 space-y-1">
                                <li><i class="fas fa-file-excel mr-2"></i>Formato: Microsoft Excel (.xlsx)</li>
                                <li><i class="fas fa-table mr-2"></i>Datos organizados en tabla</li>
                                <li><i class="fas fa-download mr-2"></i>Descarga automática al generar</li>
                            </ul>
                        </div>

                        <div class="bg-yellow-50 p-3 rounded-lg">
                            <h5 class="font-medium text-yellow-800 mb-1">Instrucciones:</h5>
                            <ol class="text-sm text-yellow-700 space-y-1">
                                <li>1. Selecciona el departamento del cual deseas el reporte</li>
                                <li>2. Haz clic en "Generar Reporte Excel"</li>
                                <li>3. El archivo se descargará automáticamente</li>
                                <li>4. Abre el archivo con Microsoft Excel o similar</li>
                            </ol>
                        </div>


                    </div>

                    <div class="mt-6 flex justify-end">
                        <button onclick="closeReportHelp()"
                            class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                            Entendido
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function showReportHelp() {
                document.getElementById('reportHelpModal').classList.remove('hidden');
            }

            function closeReportHelp() {
                document.getElementById('reportHelpModal').classList.add('hidden');
            }

            // Cerrar modal al hacer clic fuera de él
            document.getElementById('reportHelpModal').addEventListener('click', function (e) {
                if (e.target === this) {
                    closeReportHelp();
                }
            });
        </script>
    </div>
</body>

</html>